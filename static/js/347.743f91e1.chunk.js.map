{"version":3,"file":"static/js/347.743f91e1.chunk.js","mappings":"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","sources":["webpack://project/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.jsx","webpack://project/./src/components/Users/Users.module.css?b9d0","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withAuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pages\":\"Paginator_pages__z5Wks\",\"page\":\"Paginator_page__aZeGc\",\"selectedPage\":\"Paginator_selectedPage__TYCwe\",\"paginatorBtn\":\"Paginator_paginatorBtn__JX4Wq\"};","import React, {useEffect, useState} from 'react';\r\nimport cl from \"./Paginator.module.css\";\r\nconst Paginator = ({totalItemsCount, portionSize, currentPage, onPageChanged, pageSize}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n    useEffect(() => {\r\n            setPortionNumber(Math.ceil(currentPage / portionSize))\r\n        }, [currentPage]);\r\n    return (\r\n        <div className={cl.pages}>\r\n            {portionNumber > 1 &&\r\n                <button className={cl.paginatorBtn} onClick={() => setPortionNumber(portionNumber - 1)}>Prev</button>\r\n            }\r\n            {pages.filter( (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)                .map(p => {\r\n                return <span key={p} className={`${currentPage === p && cl.selectedPage} ${cl.page}`}\r\n                             onClick={() => {onPageChanged(p)}}>{p}</span>\r\n            })}\r\n            {portionNumber !== portionCount &&\r\n                <span onClick={() => {onPageChanged(pagesCount)}} className={`${currentPage === pagesCount && cl.selectedPage} ${cl.page}`}>...{pagesCount}</span>\r\n            }\r\n            {portionCount > portionNumber &&\r\n            <button className={cl.paginatorBtn} onClick={() => setPortionNumber(portionNumber + 1)}>Next</button>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Paginator;\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"userIcon\":\"Users_userIcon__j5Ozi\",\"usersBtn\":\"Users_usersBtn__g6DqD\",\"userContainer\":\"Users_userContainer__r7t6C\",\"userInner\":\"Users_userInner__n-81X\",\"userName\":\"Users_userName__rj+Jk\",\"userCountry\":\"Users_userCountry__QN6cy\",\"column\":\"Users_column__K8EYC\"};","import React from 'react';\r\nimport cl from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nconst User = ({user, followingInProgress, deleteFollow, createFollow}) => {\r\n        return (\r\n        <div className={cl.userInner} key={user.id}>\r\n                <span className={cl.column}>\r\n                    <div>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                                <img src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n                                     className={cl.userIcon}/>\r\n                            </NavLink>\r\n                        </div>\r\n                    <div>\r\n                         {user.followed ?\r\n                             <button disabled={followingInProgress.some(id => id == user.id)} className={cl.usersBtn}\r\n                                     onClick={() => {deleteFollow(user.id)}}>\r\n                                 Unfollow</button> :\r\n                             <button disabled={followingInProgress.some(id => id == user.id)} className={cl.usersBtn}\r\n                                     onClick={() => {createFollow(user.id)}}>\r\n                                 Follow</button>}\r\n                    </div>\r\n                </span>\r\n                <span className={cl.userContainer}>\r\n                    <span>\r\n                        <div className={cl.userName}>{user?.name}</div>\r\n                        <div>{user?.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div className={cl.userCountry}>{user?.location?.country},</div>\r\n                        <div>{user?.location?.city}</div>\r\n                    </span>\r\n                </span>\r\n        </div>\r\n    );\r\n}\r\n;\r\n\r\nexport default User;\r\n\r\n","import React from 'react';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({portionSize, pageSize, totalUsersCount, onPageChanged, currentPage, ...props}) => {\r\n        return (<div>\r\n                <Paginator portionSize={portionSize} pagesCount={totalUsersCount} totalItemsCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage}\r\n                           onPageChanged={onPageChanged}/>\r\n                {props.users.map(u => <User key={u.id}\r\n                                            user={u}\r\n                                            followingInProgress={props.followingInProgress}\r\n                                            deleteFollow={props.deleteFollow}\r\n                                            createFollow={props.createFollow}\r\n                />)}\r\n            </div>\r\n\r\n        );\r\n    }\r\n;\r\n\r\nexport default Users;\r\n\r\n","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\nexport const getPortionSize = (state) => {\r\n    return state.usersPage.portionSize\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    createFollow,\r\n    deleteFollow,\r\n    requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize, getPortionSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        let {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize)\r\n    }\r\n\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> :\r\n                <Users totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize}\r\n                       currentPage={this.props.currentPage} onPageChanged={this.onPageChanged} users={this.props.users}\r\n                       createFollow={this.props.createFollow} deleteFollow={this.props.deleteFollow}\r\n                       followingInProgress={this.props.followingInProgress} portionSize={this.props.portionSize}\r\n                />\r\n            }\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    createFollow,\r\n    deleteFollow,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    getUsers: requestUsers\r\n}), withAuthRedirect)(UsersContainer)","import {Navigate} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({isAuth: state.auth.isAuth})\r\n\r\n\r\nexport let withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}"],"names":["totalItemsCount","portionSize","currentPage","onPageChanged","pageSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","className","cl","onClick","filter","p","map","user","followingInProgress","deleteFollow","createFollow","to","id","src","photos","small","userPhoto","followed","disabled","some","name","status","location","country","city","totalUsersCount","props","users","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","getPortionSize","UsersContainer","pageNumber","this","Preloader","React","compose","connect","setCurrentPage","toggleFollowingProgress","requestUsers","withAuthRedirect","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","_objectWithoutProperties","source","excluded","key","target","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call"],"sourceRoot":""}